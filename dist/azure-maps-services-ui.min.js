/*
MIT License

    Copyright (c) Microsoft Corporation.

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    SOFTWARE
*/

!function(t,n){"use strict";var i=function(){return(i=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function e(t,i,a,c){return new(a=a||Promise)(function(n,e){function s(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(s,o)}r((c=c.apply(t,i||[])).next())})}function o(n,s){var o,r,i,t,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&e[0]?r.return:e[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,e[1])).done)return i;switch(r=0,i&&(e=[2&e[0],i.value]),e[0]){case 0:case 1:i=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!i||e[1]>i[0]&&e[1]<i[3])){a.label=e[1];break}if(6===e[0]&&a.label<i[1]){a.label=i[1],i=e;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(e);break}i[2]&&a.ops.pop(),a.trys.pop();continue}e=s.call(n,a)}catch(t){e=[6,t],r=0}finally{o=i=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var s=(r.merge=function(t,e){for(var n=window||global,s=0,o=t.split(".");s<o.length;s++){var r=o[s];if(!n[r])return e;n=n[r]}return i(i({},n),e)},r);function r(){}var B=(a.highContrastStyle=function(){var t=document.getElementsByClassName("atlas-accessibility-placeholder");if(!t||0===t.length){var e=document.createElement("div");e.classList.add("atlas-accessibility-placeholder"),document.body.appendChild(e),t=document.getElementsByClassName("atlas-accessibility-placeholder")}if(t&&0<t.length)switch(window.getComputedStyle(t[0],null).getPropertyValue("z-index")){case"2":return"light";case"3":case"1":return"dark"}return null!==document.getElementsByTagName("html")[0].getAttribute("hc")?"dark":"none"},a.detectLanguage=function(t,e){return e&&e.language?e.language:t||(n.getLanguage?n.getLanguage():this._getBrowserLocale()||"en-US")},a.detectDistanceUnits=function(t,e,n){switch(e&&0<e.indexOf("-")&&(t=e.split("-")[1]),t){case"US":case"GB":case"UK":case"LR":case"BU":case"MM":return"imperial"}return n&&-124.8<n[0]&&n[0]<-67.5&&24.7<n[1]&&n[1]<49.002||-171<n[0]&&n[0]<-141&&49.9<n[1]&&n[1]<72||-160.8<n[0]&&n[0]<-154.3&&18.48<n[1]&&n[1]<22.59||-5.9<n[0]&&n[0]<1.53&&50.11<n[1]&&n[1]<61.3||-8.9<n[0]&&n[0]<-5.33&&53.996<n[1]&&n[1]<58.94?"imperial":"metric"},a.formatDistance=function(t,e,n){var s=n||{ft:"ft",km:"km",mi:"mi",m:"m"};if("imperial"===e){if(160.9344<=t){var o=62137e-8*t;return(o=o<100?Math.round(10*o)/10:Math.round(o)).toLocaleString()+" "+s.mi}return Math.round(3.2808399*t)+" "+s.ft}if(100<=t){var r=.001*t;return(r=r<100?Math.round(10*r)/10:Math.round(r)).toLocaleString()+" "+s.km}return t+" "+s.m},a.formatTimespan=function(t,e){var n="",s=0,o=0,r=0,i=e||{min:"min",mins:"mins",hr:"hr",hrs:"hrs",days:"days",day:"day"};return 86400<t?(s=Math.round(t/86400),o=Math.round(t%86400/3600)):r=3600<t?(o=Math.round(t/3600),Math.round(t%3600/60)):Math.round(t/60),0<s&&(n+=s,n+=1===s?" "+i.day:" "+i.days),0<o&&(n+=o,n+=1===o?" "+i.hr:" "+i.hrs),0<r&&(n+=r,n+=1===r?" "+i.min:" "+i.mins),0===r&&0===o&&0===s&&(n+="0 "+i.min),n},a.formatArriveDateTime=function(t){var e=new Date,n=new Date(Date.parse(t)),s=n-e,o=Math.ceil(s/864e5);return 0===o||1===o&&e.getDate()===n.getDate()?n.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):n.toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",month:"long",day:"numeric",timeZoneName:"short"})},a.getExecutingPath=function(){var t=this._currentScriptPath;return-1<t.indexOf("/")?t.substring(0,t.lastIndexOf("/")):t},a._getBrowserLocale=function(){var t=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;return t?t.split("-").slice(0,2).map(function(t,e){return 0!==e&&2===t.length?t.toUpperCase():t}).join("-"):null},a._currentScriptPath=document.currentScript.src,a);function a(){}var c=(u.prototype.clear=function(){this._instructionsDiv&&(this._instructionsDiv.innerHTML="")},u.prototype.calculateRouteDirections=function(t,e,n){this._langauge=B.detectLanguage(this._langauge,n),this._lastRouteDirectionsOptions=n,this._lastResponse=null,this._service.calculateRouteDirections(t,e,n).then(this._directionsCalculated).catch(this._directionsError)},u.prototype.getService=function(){return this._service},u.prototype.setOptions=function(t){(null===t.instructionsContainerID||t.instructionsContainerID&&t.instructionsContainerID!==this._options.instructionsContainerID)&&(this._instructionsDiv&&this._instructionsDiv.remove(),t.instructionsContainerID&&(this._instructionsDiv=document.createElement("div"),this._options.instructionsContainerID=t.instructionsContainerID))},u);function u(t,e){var a=this;this._options={units:"metric"},this._directionsCalculated=function(t){if((a._lastResponse=t)&&t.routes&&0<t.routes.length){var e=t.routes[0];if(a._instructionsDiv&&(e.summary,e.guidance&&e.guidance.instructions))for(var n=0,s=0,o=e.guidance.instructions.length;s<o;s++){var r=e.guidance.instructions[s],i=document.createElement("div");i.className="azure-maps-route-instruction",i.innerHTML=r.message,0<r.routeOffsetInMeters&&(i.innerHTML+="<br/>"+B.formatDistance(r.routeOffsetInMeters-n,a._options.units),n=r.routeOffsetInMeters,r.travelTimeInSeconds)}a._options.map}else a._directionsError()},this._directionsError=function(t){t.msg||t.code},this._service=t,e&&this.setOptions(e)}var L=(l.getResource=function(s){return e(this,void 0,void 0,function(){var e,n;return o(this,function(t){switch(t.label){case 0:return this._localizationFolderPath||(this._localizationFolderPath=B.getExecutingPath()+"/localization"),(s=s||B.detectLanguage(s))&&0<(s=s.toLowerCase()).indexOf("-")&&(s=s.substring(0,s.indexOf("-"))),s&&-1!==this._supportedLanguages.indexOf(s)||(s="en"),this._resxCache[s]?[2,this._resxCache[s]]:[4,fetch(this._localizationFolderPath+"/"+s+"/resource.json")];case 1:return(e=t.sent()).ok?[4,e.json()]:[3,3];case 2:return n=t.sent(),[2,this._resxCache[s]=n];case 3:throw"Unable to download resource file."}})})},l._resxCache={},l._supportedLanguages=["en","af","eu","bg","zh","hr","cs","da","nl","et","fi","fr","gl","de","el","hi","hu","id","it","ja","kk","ko","es","lv","lt","ms","nb","pl","pt","ro","ru","sr","sk","sl","sv","th","tr","uk","vi"],l);function l(){}var p=(h.getRouteInstructionIcon=function(t){var e,n=t.drivingSide||"RIGHT",s=t.maneuver;if(s){switch(s){case"TRY_MAKE_UTURN":s="MAKE_UTURN";break;case"FOLLOW":s="STRAIGHT";break;case"DEPART":case"ARRIVE":s="WAYPOINT_REACHED";break;case"ARRIVE_LEFT":s="WAYPOINT_LEFT";break;case"ARRIVE_RIGHT":s="WAYPOINT_RIGHT";break;case"ENTER_MOTORWAY":case"ENTER_FREEWAY":case"ENTRANCE_RAMP":s="ENTER_HIGHWAY";break;case"TAKE_EXIT":s="LEFT"===n?"MOTORWAY_EXIT_LEFT":"MOTORWAY_EXIT_RIGHT";break;case"SWITCH_PARALLEL_ROAD":s="SWITCH_MAIN_ROAD"}"LEFT"===n&&(e=this.RouteIconsLeft[s]),e=e||this.RouteIcons[s]}return e&&""!==e?e:null},h.RouteIcons={WAYPOINT_REACHED:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.5 36.5"><g stroke="none"><path d="M12.25.25a12.2543,12.2543,0,0,0-12,12.4937c0,6.4436,6.4879,12.1093,11.059,22.5641.5493,1.2563,1.3327,1.2563,1.882,0C17.7621,24.8529,24.25,19.1857,24.25,12.7437A12.2543,12.2543,0,0,0,12.25.25Z"/></g></svg>',WAYPOINT_LEFT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.5 36.5"><g stroke="none"><path d="M12.25.25a12.2543,12.2543,0,0,0-12,12.4937c0,6.4436,6.4879,12.1093,11.059,22.5641.5493,1.2563,1.3327,1.2563,1.882,0C17.7621,24.8529,24.25,19.1857,24.25,12.7437A12.2543,12.2543,0,0,0,12.25.25Z"/><polygon points="6,28 6,36 0,32"/></g></svg>',WAYPOINT_RIGHT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.5 36.5"><g stroke="none"><path d="M12.25.25a12.2543,12.2543,0,0,0-12,12.4937c0,6.4436,6.4879,12.1093,11.059,22.5641.5493,1.2563,1.3327,1.2563,1.882,0C17.7621,24.8529,24.25,19.1857,24.25,12.7437A12.2543,12.2543,0,0,0,12.25.25Z"/><polygon points="18,28 18,36 24,32"/></g></svg>',STRAIGHT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M13.4 11.6h3.2v13.6h-3.2z"/><path d="M9.4 14.4l5.6-2.5 5.6 2.5-5.7-9.6z"/></g></svg>',KEEP_RIGHT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M10.6 25.6H7.4V20c0-.7.5-1.3 1.1-1.5l6.9-2.1v-5.2h3.2v6.4c0 .7-.5 1.3-1.1 1.5l-6.9 2.1v4.4z"/><path d="M17 11.5L11.4 14l5.7-9.6 5.5 9.6z"/></g></svg>',BEAR_RIGHT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M14.2 25.1H11V21c0-2.9.4-4.8 1.7-7.1.5-1 2.8-4.5 3.1-4.9l2.7 1.8c-.9 1.4-2.6 4-2.9 4.6-1 1.9-1.3 3.3-1.3 5.7v4h-.1z"/><path d="M19.9 16l-3.6-5-6.2-.6 9.8-5.5z"/></g></svg>',TURN_RIGHT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M8.6 23.8H5.4v-5.6c0-4.4 3.6-8 8-8h4.8v3.2h-4.8c-2.6 0-4.8 2.2-4.8 4.8v5.6z"/><path d="M17.5 11.8L15 6.2l9.6 5.7-9.6 5.5z"/></g></svg>',SHARP_RIGHT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M10.3 24.95H7.1V8.15c0-.8.4-1.6 1-2.2 1.2-1.2 3.2-1.2 4.5 0l8.9 8.9-2.3 2.3-8.9-8.9v16.7z"/><path d="M17.9 13.55l2.2-5.8 2.8 10.8-10.7-2.9z"/></g></svg>',KEEP_LEFT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M19.4 25.6h3.2V20c0-.7-.5-1.3-1.1-1.5l-6.9-2.1v-5.2h-3.2v6.4c0 .7.5 1.3 1.1 1.5l6.9 2.1v4.4z"/><path d="M18.6 14l-5.7-9.6L7.4 14l5.6-2.5z"/></g></svg>',BEAR_LEFT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M15.8 25.1H19V21c0-2.9-.4-4.8-1.7-7.1-.5-1-2.8-4.5-3.1-4.9l-2.7 1.8c.9 1.4 2.6 4 2.9 4.6 1 1.9 1.3 3.3 1.3 5.7v4h.1z"/><path d="M13.7 11l6.2-.6-9.8-5.5V16z"/></g></svg>',TURN_LEFT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M21.4 23.8h3.2v-5.6c0-4.4-3.6-8-8-8h-4.8v3.2h4.8c2.6 0 4.8 2.2 4.8 4.8v5.6z"/><path d="M15 6.2l-9.6 5.7 9.6 5.5-2.5-5.6z"/></g></svg>',SHARP_LEFT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M19.7 24.95h3.2V8.15c0-.8-.4-1.6-1-2.2-1.2-1.2-3.2-1.2-4.5 0l-8.9 8.9 2.3 2.3 8.9-8.9v16.7z"/><path d="M9.9 7.75l-2.8 10.8 10.7-2.9-5.7-2.1z"/></g></svg>',MAKE_UTURN:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M21 25.4h3.2V11.8c0-4-3.2-7.2-7.2-7.2s-7.2 3.2-7.2 7.2v3.6H13v-3.6c0-2.2 1.8-4 4-4s4 1.8 4 4v13.6z"/><path d="M5.8 11.4l5.7 9.6 5.5-9.6-5.6 2.5z"/></g></svg>',MOTORWAY_EXIT_LEFT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 312 312"><path d="M200 46 200 266.235" stroke-width="40" stroke-miterlimit="8" fill="none"/><path d="M108.387 104.558C161.11 114.911 198.856 154.622 199.975 200.912" stroke-width="40" stroke-miterlimit="8" fill="none"/><path d="M111.686 146.196 55.5742 96.7993 123.702 66.0224Z"/></svg>',MOTORWAY_EXIT_RIGHT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 312 312"><path d="M0 0 0.000104987 220.235" stroke-width="40" stroke-miterlimit="8" fill="none" fill-rule="evenodd" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 112 54)"/><path d="M144.387 2.5577C197.11 12.9113 234.856 52.6223 235.975 98.9118" stroke-width="40" stroke-miterlimit="8" fill="none" fill-rule="evenodd" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 348 110)"/><path d="M0 62.8137 40.5345 0 81.0691 62.8137Z" fill-rule="evenodd" transform="matrix(-0.148216 -0.988955 -0.988955 0.148216 261.65 145.004)"/></svg>',TAKE_FERRY:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><path stroke="none" d="M23.4 22.784s-3.1 3.1-8.4.2c-5.3-3-8.4.2-8.4.2" style="fill:none;stroke:#00e9ff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10"/><path d="M14 4.784h2v2h-2zM15 9.884v-.6.6c1.2 1.4 3.9 2.5 6 2.7v-4.8H9v4.8c2.2-.2 4.8-1.3 6-2.7z"/><path d="M11 18.784c1.5 0 3.1.5 4.7 1.5 1 .6 2 .9 2.9 1 2-2.6 3.3-4.6 3.3-6.6-2.2-.1-5.5-1-7-2.6-1.5 1.6-4.8 2.6-7 2.6 0 1.5.7 2.4 1.8 4.3.4-.1.9-.2 1.3-.2z"/></svg>',ROUNDABOUT_CROSS:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M11.15 19.25v-6.6c-2.3 1.3-3.8 3.8-3.8 6.6s1.5 5.3 3.8 6.6v-6.6z" style="fill:#cecece"/><path d="M14.95 11.65c-.7 0-1.3.1-1.9.3v4.1c.6-.3 1.2-.5 1.9-.5 2.1 0 3.8 1.7 3.8 3.8 0 2.1-1.7 3.8-3.8 3.8-.7 0-1.4-.2-1.9-.5v4.1c.6.2 1.3.3 1.9.3 4.2 0 7.7-3.4 7.7-7.7 0-4.3-3.5-7.7-7.7-7.7z"/><path d="M13.05 26.05h3.8v2.9h-3.8zM14.95 8.15l-5.8 2.5 5.9-9.6 5.7 9.6z"/></g></svg>',ROUNDABOUT_RIGHT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M5.6 17.35c0-1.1.5-2.2 1.3-2.9-.8-.7-1.3-1.7-1.3-2.9 0-2.1 1.7-3.8 3.8-3.8 1.1 0 2.2.5 2.9 1.3.5-.5 1.1-.9 1.8-1.1.4-.1.8-.2 1.2-.2h.8c-1.3-2.3-3.8-3.8-6.6-3.8-4.3 0-7.7 3.4-7.7 7.7 0 2.8 1.5 5.3 3.8 6.6v-.9z" style="fill:#cecece"/><path d="M11.4 26.05H7.6v-8.6c0-1.1.9-1.9 1.9-1.9 1.1 0 2.2-.5 3-1.4.6-.7.9-1.5.9-2.4 0-.5.2-1 .6-1.4.4-.4.8-.6 1.4-.6h6v3.8h-4.3c-.3 1.1-.8 2.1-1.5 3-1 1.3-2.4 2.1-4 2.5v7h-.2z"/><path d="M18.6 17.35l2.5-5.7-2.5-5.8 9.6 5.8z"/></g></svg>',ROUNDABOUT_LEFT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M22.4 26h-3.8v-8.6c0-1.1.9-1.9 1.9-1.9 2.1 0 3.8-1.7 3.8-3.8 0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8 0 1.1-.9 1.9-1.9 1.9h-6V9.8h4.3C14 6.5 17 4 20.5 4c4.2 0 7.7 3.4 7.7 7.7 0 3.6-2.5 6.6-5.8 7.4V26z"/><path d="M8.9 11.6l2.5-5.8-9.6 5.8 9.6 5.7z"/></g></svg>',ROUNDABOUT_BACK:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M15.049 2.3c-4.2 0-7.7 3.4-7.7 7.7 0 4.3 3.4 7.7 7.7 7.7.7 0 1.3-.1 1.9-.3v-4.1c-.6.3-1.2.5-1.9.5-2.1 0-3.8-1.7-3.8-3.8 0-2.1 1.7-3.8 3.8-3.8 2.1 0 3.8 1.7 3.8 3.8v6.6c2.3-1.3 3.8-3.8 3.8-6.6.1-4.3-3.4-7.7-7.6-7.7z"/><path d="M13.149 15.7h3.8V21h-3.8z"/><path d="M15.049 20.7l-5.8-2.6 5.9 9.6 5.7-9.5z"/></g></svg>',SWITCH_MAIN_ROAD:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 58 58"><path stroke="none" d="m12.2 1.4l-12 17c-0.2 0.3-0.2 0.7-0.1 1 0.2 0.3 0.5 0.5 0.9 0.5h6v3c0 7.4 3.2 14.5 8.8 19.4l2.5 2.2c3 2.6 4.7 6.4 4.7 10.4v3c0 0.6 0.4 1 1 1h10c0.6 0 1-0.4 1-1v-3c0-7.4-3.2-14.5-8.8-19.4l-2.5-2.1c-3-2.6-4.7-6.4-4.7-10.4v-3h6c0.4 0 0.7-0.2 0.9-0.5s0.1-0.7-0.1-1l-12-17c-0.2-0.3-0.5-0.4-0.8-0.4s-0.6 0.2-0.8 0.4Z"/><path stroke="none" d="m32 19c0 0.3 0.1 0.5 0.3 0.7 0.2 0.2 0.4 0.3 0.7 0.3h6v3c0 4-1.7 7.8-4.7 10.4l-2.5 2.2c-0.5 0.5-1 0.9-1.5 1.4 0.1 0.1 0.1 0.2 0.2 0.2 2.9 3.4 4.9 7.5 5.8 11.9 0.8-1.7 2-3.2 3.4-4.5l2.5-2.1c5.6-4.9 8.8-12 8.8-19.4v-3h6c0.4 0 0.7-0.2 0.9-0.5s0.1-0.7-0.1-1l-12-17c-0.2-0.3-0.5-0.4-0.8-0.4s-0.6 0.2-0.8 0.4l-12 17c-0.1 0.2-0.2 0.4-0.2 0.6Z"/></svg>',ENTER_HIGHWAY:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><path stroke="none" d="M9.6 15L8 21.5c0 .3.1.5.4.5h5l.6-7H9.6zM20.7 15h-4.4l.2 7h5.1c.3 0 .4-.2.4-.5L20.7 15zM26 14v-1H4v1h19.9zM13.8 12l.2-4h-2.8c-.3 0-.5.2-.6.5L9.9 12h3.9zM16.2 12L16 8h2.8c.3 0 .5.2.6.5l.7 3.5h-3.9z"/><path d="M6 13.6h1V16H6zM23 13.6h1V16h-1z"/></svg>'},h.RouteIconsLeft={ROUNDABOUT_CROSS:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M18.85 19.25v-6.6c2.3 1.3 3.8 3.8 3.8 6.6s-1.5 5.3-3.8 6.6v-6.6z" style="fill:#cecece"/><path d="M15.05 11.65c.7 0 1.3.1 1.9.3v4.1c-.6-.3-1.2-.5-1.9-.5-2.1 0-3.8 1.7-3.8 3.8 0 2.1 1.7 3.8 3.8 3.8.7 0 1.4-.2 1.9-.5v4.1c-.6.2-1.3.3-1.9.3-4.2 0-7.7-3.4-7.7-7.7 0-4.3 3.5-7.7 7.7-7.7z"/><path d="M16.95 26.05h-3.8v2.9h3.8zM20.85 10.65l-5.9-9.6-5.7 9.6 5.8-2.5z"/></g></svg>',ROUNDABOUT_RIGHT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M7.6 26h3.8v-8.6c0-1.1-.9-1.9-1.9-1.9-2.1 0-3.8-1.7-3.8-3.8 0-2.1 1.7-3.8 3.8-3.8 2.1 0 3.8 1.7 3.8 3.8 0 1.1.9 1.9 1.9 1.9h6V9.8h-4.3C16 6.5 13 4 9.5 4c-4.2 0-7.7 3.4-7.7 7.7 0 3.6 2.5 6.6 5.8 7.4V26z"/><path d="M18.6 5.8l9.6 5.8-9.6 5.7 2.5-5.7z"/></g></svg>',ROUNDABOUT_LEFT:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M24.4 17.35c0-1.1-.5-2.2-1.3-2.9.8-.7 1.3-1.7 1.3-2.9 0-2.1-1.7-3.8-3.8-3.8-1.1 0-2.2.5-2.9 1.3-.5-.5-1.1-.9-1.8-1.1-.4-.1-.8-.2-1.2-.2h-.8c1.3-2.3 3.8-3.8 6.6-3.8 4.3 0 7.7 3.4 7.7 7.7 0 2.8-1.5 5.3-3.8 6.6v-.9z" style="fill:#cecece"/><path d="M18.6 26.05h3.8v-8.6c0-1.1-.9-1.9-1.9-1.9-1.1 0-2.2-.5-3-1.4-.6-.7-.9-1.5-.9-2.4 0-.5-.2-1-.6-1.4-.4-.4-.8-.6-1.4-.6h-6v3.8h4.3c.3 1.1.8 2.1 1.5 3 1 1.3 2.4 2.1 4 2.5v7h.2z"/><path d="M8.9 11.65l2.5-5.8-9.6 5.8 9.6 5.7z"/></g></svg>',ROUNDABOUT_BACK:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M14.951 2.3c4.2 0 7.7 3.4 7.7 7.7 0 4.3-3.4 7.7-7.7 7.7-.7 0-1.3-.1-1.9-.3v-4.1c.6.3 1.2.5 1.9.5 2.1 0 3.8-1.7 3.8-3.8 0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v6.6c-2.3-1.3-3.8-3.8-3.8-6.6-.1-4.3 3.4-7.7 7.6-7.7z"/><path d="M16.851 15.7h-3.8V21h3.8z"/><path d="M20.751 18.1l-5.9 9.6-5.7-9.5 5.8 2.5z"/></g></svg>',MAKE_UTURN:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g stroke="none"><path d="M9 25.4H5.8V11.8c0-4 3.2-7.2 7.2-7.2s7.2 3.2 7.2 7.2v3.6H17v-3.6c0-2.2-1.8-4-4-4s-4 1.8-4 4v13.6z"/><path d="M18.6 13.9l5.6-2.5-5.7 9.6-5.5-9.6z"/></g></svg>'},h);function h(){}var g=(d.prototype.clear=function(){this._control&&this._control.remove(),this._routeResponse=null},d.prototype.getOptions=function(){return Object.assign({},this._options)},d.prototype.setOptions=function(t){if(t){var e=this._options,n={};void 0!==t.containerId&&e.containerId!==t.containerId&&(this._control&&this._control.remove(),this._mapControlConatiner&&null!==t.containerId&&this._mapControlConatiner.remove(),n.containerId=t.containerId),"boolean"==typeof t.displayDisclaimer&&(n.displayDisclaimer=t.displayDisclaimer),"boolean"==typeof t.routeIndex&&(n.routeIndex=t.routeIndex),"boolean"==typeof t.groupInstructions&&(n.groupInstructions=t.groupInstructions),t.waypointTextFormat&&(n.waypointTextFormat=t.waypointTextFormat),t.language&&e.language!==t.language&&(n.language=t.language,this._resources=null),t.style&&(n.style=t.style),t.units&&(n.units=t.units),Object.assign(this._options,n)}this._renderRoute()},d.prototype.getRoute=function(){return this._routeResponse},d.prototype.setRoute=function(t){this._routeResponse=t,this._renderRoute()},d.prototype.onAdd=function(t,e){this._map=t;var n=this._mapControlConatiner;if(n&&n.remove(),!this._options.containerId){var s=document.createElement("div");s.classList.add("route-instruction-map-container"),s.style.flexDirection="column",this._mapControlConatiner=s}return this._renderRoute(),n},d.prototype.onRemove=function(){this._map=null,this._control&&(this._control.remove(),delete this._control),this._mapControlConatiner&&(this._mapControlConatiner.remove(),delete this._mapControlConatiner)},d.prototype._renderRoute=function(){var e=this;if(!this._resources)return this._options.language||(this._options.language=B.detectLanguage()),void L.getResource(this._options.language).then(function(t){e._resources=t,e._renderRoute()});if(this._routeResponse&&this._routeResponse.routes&&0<this._routeResponse.routes.length&&(this._options.containerId||this._map)){this._control&&this._control.remove();var t=0,n=0,s=this._routeResponse.routes[0];0<this._options.routeIndex&&this._routeResponse.routes.length>this._options.routeIndex&&(s=this._routeResponse.routes[this._options.routeIndex]);var o,r=s.guidance&&s.guidance.instructions&&0<s.guidance.instructions.length,i=this._options.units;if(!i||"auto"===i){var a=r?s.guidance.instructions[0].point:s.legs&&0<s.legs.length?s.legs[0].points[0]:null,c=a?[a.longitude,a.latitude]:null;i=B.detectDistanceUnits(r?s.guidance.instructions[0].countryCode:null,this._options.language,c)}if((o=document.createElement("div")).classList.add("route-instruction-container"),s.summary){var u=document.createElement("div");u.classList.add("route-summary");var l=B.formatDistance(s.summary.lengthInMeters,i),h='<span class="route-summary-time">'+B.formatTimespan(s.summary.travelTimeInSeconds)+'</span> <span class="route-summary-distance">'+l+"</span>",g=s.summary.trafficDelayInSeconds/s.summary.travelTimeInSeconds;if(.05<g&&60<s.summary.trafficDelayInSeconds){var p,d,v=B.formatTimespan(s.summary.trafficDelayInSeconds);d=.2<g?(p="route-summary-traffic-heavy",this._resources.hTraffic):.1<g?(p="route-summary-traffic-moderate",this._resources.mTraffic):(p="route-summary-traffic-light",this._resources.lTraffic),h+='<span class="route-summary-traffic-time"><span class="'+p+'">'+d+"</span> - "+v+" "+this._resources.delay+"</span>"}var m=B.formatArriveDateTime(s.summary.arrivalTime);h+='<span class="route-summary-arrive-by"><span class="route-summary-arrive-by-label">'+this._resources.arriveBy+":</span> "+m+"</span>",u.innerHTML=h,o.appendChild(u)}if(s.guidance&&s.guidance.instructions){var f,_,w,T,M=s.guidance.instructions,I=0;if(this._options.groupInstructions&&s.guidance.instructionGroups)for(var y,E,R,C,x=s.guidance.instructionGroups,A=0;A<x.length;A++){for(R=0,(y=document.createElement("div")).classList.add("route-instruction-group"),w=x[A].firstInstructionIndex;w<=x[A].lastInstructionIndex;w++)f="",this._isWaypoint(M[w])&&(I++,f="number"===this._options.waypointTextFormat?I.toString():this._waypointIndices[I]),T=M[w].travelTimeInSeconds-n,_=this._createInstruction(M[w],w,T,M[w].routeOffsetInMeters-t,i,f),y.appendChild(_),t=M[w].routeOffsetInMeters,n=M[w].travelTimeInSeconds,R+=T;(E=document.createElement("div")).classList.add("route-instruction-group-desc"),C='<span class="route-instruction-group-msg">'+this._styleTaggedMessage(x[A].groupMessage)+"</span> ",30<R&&(C+='<span class="route-instruction-group-time">'+B.formatTimespan(R)+"</span> "),0<x[A].groupLengthInMeters&&(C+='<span class="route-instruction-group-distance">'+B.formatDistance(x[A].groupLengthInMeters,i)+"</span>"),E.innerHTML=C,y.insertBefore(E,y.childNodes[0]),o.appendChild(y)}else for(w=0;w<M.length;w++)f="",this._isWaypoint(M[w])&&(I++,f="number"===this._options.waypointTextFormat?I.toString():this._waypointIndices[I]),T=M[w].travelTimeInSeconds-n,_=this._createInstruction(M[w],w,T,M[w].routeOffsetInMeters-t,i,f),o.appendChild(_),t=M[w].routeOffsetInMeters,n=M[w].travelTimeInSeconds;if(this._options.displayDisclaimer){var D=document.createElement("div");D.classList.add("route-disclaimer"),D.innerHTML=this._resources.rDisclaimer,o.appendChild(D)}}this._control=o,"dark"!==B.highContrastStyle()&&"dark"!==this._options.style||o.classList.add("route-instruction-dark"),this._options.containerId?document.getElementById(this._options.containerId).appendChild(this._control):this._map&&this._mapControlConatiner&&this._mapControlConatiner.appendChild(this._control)}},d.prototype._isWaypoint=function(t){switch(t.maneuver){case"ARRIVE":case"ARRIVE_LEFT":case"ARRIVE_RIGHT":case"DEPART":case"WAYPOINT_REACHED":case"WAYPOINT_LEFT":case"WAYPOINT_RIGHT":return!0}return!1},d.prototype._createInstruction=function(t,e,n,s,o,r){var i=document.createElement("div");i.classList.add("route-instruction");var a=p.getRouteInstructionIcon(t),c=document.createElement("div");if(c.classList.add("route-maneuver"),c.setAttribute("aria-hidden","true"),c.classList.add("route-maneuver-"+t.maneuver),a&&(c.innerHTML=a),i.appendChild(c),r){var u=document.createElement("span");u.classList.add("route-maneuver-text"),u.innerText=r,i.appendChild(u)}var l=document.createElement("div");l.classList.add("route-instruction-msg");var h=t.message;if(h=this._styleTaggedMessage(h),l.innerHTML=h,i.appendChild(l),0<s){var g=document.createElement("div");g.classList.add("route-instruction-distance"),g.innerHTML=B.formatDistance(s,o),i.appendChild(g)}return i},d.prototype._styleTaggedMessage=function(t){return t.replace(/<(street|roadNumber|exitNumber|signpostText|roundaboutExitNumber)>/gi,'<span class="route-instruction-$1">').replace(/<\/(street|roadNumber|exitNumber|signpostText|roundaboutExitNumber)>/gi,"</span>")},d);function d(t){this._options={displayDisclaimer:!0,groupInstructions:!1,routeIndex:0,style:"light",units:"auto",waypointTextFormat:"letter"},this._waypointIndices=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB","AC","AD","AE","AF","AG","AH","AI","AJ","AK","AL","AM","AN","AO","AP","AQ","AR","AS","AT","AU","AV","AW","AX","AY","AZ","BA","BB","BC","BD","BE","BF","BG","BH","BI","BJ","BK","BL","BM","BN","BO","BP","BQ","BR","BS","BT","BU","BV","BW","BX","BY","BZ","CA","CB","CC","CD","CE","CF","CG","CH","CI","CJ","CK","CL","CM","CN","CO","CP","CQ","CR","CS","CT","CU","CV","CW","CX","CY","CZ","DA","DB","DC","DD","DE","DF","DG","DH","DI","DJ","DK","DL","DM","DN","DO","DP","DQ","DR","DS","DT","DU","DV","DW","DX","DY","DZ","EA","EB","EC","ED","EE","EF","EG","EH","EI","EJ","EK","EL","EM","EN","EO","EP","EQ","ER","ES","ET"],this.setOptions(t||{})}var v=Object.freeze({__proto__:null,RouteUIManager:c,RouteInstructionControl:g}),m=s.merge("atlas.control",v);t.control=m}(this.atlas=this.atlas||{},atlas);
